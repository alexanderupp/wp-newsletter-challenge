!function(e){e(function(){document.querySelectorAll(".wnc-form__form").forEach(e=>{e.addEventListener("submit",t=>{t.preventDefault();let n=r.validate(e);return n?r.submit(e):r.displayError(e),!1})}),document.querySelectorAll(".wnc-popup--close").forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),document.getElementById("wnc-popup").classList.toggle("wnc-popup--hidden"),document.cookie="hide-newsletter=1;path=/;expires="+new Date(new Date().getTime()+2592e6)})})});var r={error:"",fields:null,displayError:function(e){return e.querySelector(".wnc-form__status").innerHTML=this.error,!0},submit:function(e){e.classList.add("submitting");let r=this,t=e.getAttribute("action");fetch(t,{method:"POST",body:new URLSearchParams(r.fields)}).then(t=>t.ok?t.json():(r.error="There was an error sending your subscrption request.",r.displayError(e),e.classList.remove("submitting"),!1)).then(t=>{t.result?e.innerHTML=`<p>${t.msg}</p>`:(r.error=t.msg||"There was an unknown error.",r.displayError(e)),e.classList.remove("submitting")})},validate:function(e){let r=!1,t=new FormData(e),n=this;return Array.from(t.keys()).length<4?(n.error="Please complete all fields",!1):(t.forEach(e=>{if(""==e.value){n.error="Please complete all fields",r=!0;return}}),!r&&(n.fields=t,!0))}}}(jQuery||$);